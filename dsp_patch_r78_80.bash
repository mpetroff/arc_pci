#
# This is a non-standard patch that hotwires a critical routine.
# The first 10 commands will naturally time out, that is normal.
#
#1. Patch to U0106 routines
dsp_cmd -qx write P 0x01e5 0xaf080
dsp_cmd -qx write P 0x01e6 0x0c34
dsp_cmd -qx write P 0x022c 0xaf080
dsp_cmd -qx write P 0x022d 0x0c2f
dsp_cmd -qx write P 0x022e 0x0000
#2. Innocuous internal patches.
dsp_cmd -qx write P 0x0942 0x0c2c
dsp_cmd -qx write P 0x0961 0xaf080
dsp_cmd -qx write P 0x0962 0x0c27
dsp_cmd -qx write P 0x0963 0x0000
#3. New handlers
dsp_cmd -qx write P 0x0be9 0xa00ac
dsp_cmd -qx write P 0x0bea 0x0bec
dsp_cmd -qx write P 0x0beb 0x000c
dsp_cmd -qx write P 0x0bec 0xc08ef
dsp_cmd -qx write P 0x0c00 0xa00ac
dsp_cmd -qx write P 0x0c01 0x0c03
dsp_cmd -qx write P 0x0c02 0x000c
dsp_cmd -qx write P 0x0c03 0x60f400
dsp_cmd -qx write P 0x0c04 0x005c
dsp_cmd -qx write P 0x0c05 0x61f400
dsp_cmd -qx write P 0x0c06 0x002f
dsp_cmd -qx write P 0x0c07 0x60280
dsp_cmd -qx write P 0x0c08 0x0c0a
dsp_cmd -qx write P 0x0c09 0x44d800
dsp_cmd -qx write P 0x0c0a 0x445900
dsp_cmd -qx write P 0x0c0b 0x56f000
dsp_cmd -qx write P 0x0c0c 0x01a8
dsp_cmd -qx write P 0x0c0d 0xc1d04
dsp_cmd -qx write P 0x0c0e 0x0000
dsp_cmd -qx write P 0x0c0f 0x218400
dsp_cmd -qx write P 0x0c10 0x442b00
dsp_cmd -qx write P 0x0c11 0x44f400
dsp_cmd -qx write P 0x0c12 0x01a7
dsp_cmd -qx write P 0x0c13 0x447000
dsp_cmd -qx write P 0x0c14 0x005e
dsp_cmd -qx write P 0x0c15 0xa000e
dsp_cmd -qx write P 0x0c16 0xd0af0
dsp_cmd -qx write P 0x0c17 0xa8985
dsp_cmd -qx write P 0x0c18 0x0c25
dsp_cmd -qx write P 0x0c19 0xd086d
dsp_cmd -qx write P 0x0c1a 0xa8526
dsp_cmd -qx write P 0x0c1b 0xa8985
dsp_cmd -qx write P 0x0c1c 0x0c25
dsp_cmd -qx write P 0x0c1d 0xa8983
dsp_cmd -qx write P 0x0c1e 0x0c1a
dsp_cmd -qx write P 0x0c1f 0xa8506
dsp_cmd -qx write P 0x0c20 0xa8985
dsp_cmd -qx write P 0x0c21 0x0c25
dsp_cmd -qx write P 0x0c22 0xa89a3
dsp_cmd -qx write P 0x0c23 0x0c1f
dsp_cmd -qx write P 0x0c24 0x000c
dsp_cmd -qx write P 0x0c25 0xa8506
dsp_cmd -qx write P 0x0c26 0x000c
dsp_cmd -qx write P 0x0c27 0xa8985
dsp_cmd -qx write P 0x0c28 0x0c2b
dsp_cmd -qx write P 0x0c29 0xd086d
dsp_cmd -qx write P 0x0c2a 0xd0995
dsp_cmd -qx write P 0x0c2b 0xc0964
dsp_cmd -qx write P 0x0c2c 0xd0857
dsp_cmd -qx write P 0x0c2d 0xa0007
dsp_cmd -qx write P 0x0c2e 0x000c
dsp_cmd -qx write P 0x0c2f 0x300200
dsp_cmd -qx write P 0x0c30 0xd01e0
dsp_cmd -qx write P 0x0c31 0xa0181
dsp_cmd -qx write P 0x0c32 0x0268
dsp_cmd -qx write P 0x0c33 0xc022f
dsp_cmd -qx write P 0x0c34 0xa0181
dsp_cmd -qx write P 0x0c35 0x0227
dsp_cmd -qx write P 0x0c36 0xa0183
dsp_cmd -qx write P 0x0c37 0x02aa
dsp_cmd -qx write P 0x0c38 0xc01e7
dsp_cmd -qx write P 0x0c39 0x0fc1
dsp_cmd -qx write P 0x0c3a 0x0fc0
dsp_cmd -qx write P 0x0c3b 0x00ef
## Install new handlers... expect 3 timeouts here.
#dsp_cmd -qx write P 0x08ec 0x000c    #RTS
#dsp_cmd -qx write P 0x08ed 0xaf080
#dsp_cmd -qx write P 0x08ee 0x0c00
#dsp_cmd -qx write P 0x08ec 0x0000    #NOP
# Or the 2 timeout version...
dsp_cmd -qx write P 0x08ec 0x000c    #RTS
dsp_cmd -qx write P 0x08ed 0x0c00
dsp_cmd -qx write P 0x08ec 0xaf080
echo done.
